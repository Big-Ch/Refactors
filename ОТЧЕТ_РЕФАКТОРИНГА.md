# –û—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –ø—Ä–æ–µ–∫—Ç–∞ OnlineShop

## –ò–¢–ï–†–ê–¶–ò–Ø 1: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∏ –±–∞–∑–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ó–∞–¥–∞—á–∞ 1.1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, –∫–ª—é—á–∏ API) –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–º–µ–Ω–∏—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/resources/application.properties`
- `ShawarmaShop/pom.xml`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **application.properties:**
   - –ó–∞–º–µ–Ω–µ–Ω `spring.datasource.password=12345` –Ω–∞ `spring.datasource.password=${DB_PASSWORD:12345}` - –ø–∞—Ä–æ–ª—å –ë–î —Ç–µ–ø–µ—Ä—å –±–µ—Ä–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å fallback –∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - –ó–∞–º–µ–Ω–µ–Ω –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å `upload.path=/C:/Users/vccha/Desktop/labs/refactors/ShawarmaShop/src/main/resources/uploads` –Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π `upload.path=${UPLOAD_PATH:./uploads}` - –ø—É—Ç—å —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–π, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ó–∞–º–µ–Ω–µ–Ω `spring.mail.username=vezhur2003@gmail.com` –Ω–∞ `spring.mail.username=${MAIL_USERNAME:}` - —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ email –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ó–∞–º–µ–Ω–µ–Ω `spring.mail.password=K!-iq62Bv` –Ω–∞ `spring.mail.password=${MAIL_PASSWORD:}` - –ø–∞—Ä–æ–ª—å email –≤—ã–Ω–µ—Å–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ó–∞–º–µ–Ω–µ–Ω `recaptcha.secret=6Lc5cLkZAAAAANUjd4--Jx6PioSC_N-9MFKT3PsA` –Ω–∞ `recaptcha.secret=${RECAPTCHA_SECRET:}` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á reCAPTCHA –≤—ã–Ω–µ—Å–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **pom.xml:**
   - –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `<executable>C:\Program Files\Java\jdk1.8.0_251\bin\javac.exe</executable>` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ maven-compiler-plugin - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π Java –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–±–æ—Ä–∫—É –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–π

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–æ–ª—å—à–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫—É —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
- **–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ª—é–±–æ–π –º–∞—à–∏–Ω–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- **–ì–∏–±–∫–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** –†–∞–∑–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (dev, staging, production) –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Diff:**

```diff
--- a/ShawarmaShop/src/main/resources/application.properties
+++ b/ShawarmaShop/src/main/resources/application.properties
@@ -1,13 +1,13 @@
 spring.datasource.url=jdbc:postgresql://localhost/shawarma
 spring.datasource.username=postgres
-spring.datasource.password=12345
+spring.datasource.password=${DB_PASSWORD:12345}
 
 spring.jpa.generate-ddl=false
 spring.jpa.show-sql=true
 spring.jpa.properties.hibernate.format_sql=false
 spring.jpa.hibernate.ddl-auto=validate
 spring.flyway.locations=classpath:db/migration
 
 server.error.whitelabel.enabled=false
 
-upload.path=/C:/Users/vccha/Desktop/labs/refactors/ShawarmaShop/src/main/resources/uploads
+upload.path=${UPLOAD_PATH:./uploads}
 
 spring.mail.host=smtp.gmail.com
-spring.mail.username=vezhur2003@gmail.com
-spring.mail.password=K!-iq62Bv
+spring.mail.username=${MAIL_USERNAME:}
+spring.mail.password=${MAIL_PASSWORD:}
 spring.mail.port=465
 spring.mail.protocol=smtps
 spring.mail.properties.mail.smtp.auth=true
 spring.mail.properties.mail.smtp.starttls.enable=true
 mail.debug=false
 
 spring.data.web.pageable.default-page-size=12
 
 recaptcha.url=https://www.google.com/recaptcha/api/siteverify?secret=%s&response=%s
-recaptcha.secret=6Lc5cLkZAAAAANUjd4--Jx6PioSC_N-9MFKT3PsA
+recaptcha.secret=${RECAPTCHA_SECRET:}
 
 hostname=localhost:8080
 
 logging.level.com.gmail.v.c.charkin.gurmanfood.controller=debug
```

```diff
--- a/ShawarmaShop/pom.xml
+++ b/ShawarmaShop/pom.xml
@@ -145,9 +145,7 @@
             <plugin>
                 <artifactId>maven-compiler-plugin</artifactId>
                 <version>3.8.1</version>
                 <configuration>
                     <fork>true</fork>
-                    <executable>C:\Program Files\Java\jdk1.8.0_251\bin\javac.exe</executable>
                 </configuration>
             </plugin>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø—É—Ç–∏ —Å—Ç–∞–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–º–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ –ª—é–±–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

---

### –ó–∞–¥–∞—á–∞ 1.2: –í–∫–ª—é—á–µ–Ω–∏–µ CSRF-–∑–∞—â–∏—Ç—ã

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å CSRF-–∑–∞—â–∏—Ç—É –≤ Spring Security –¥–ª—è –∑–∞—â–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç –º–µ–∂—Å–∞–π—Ç–æ–≤—ã—Ö –ø–æ–¥–¥–µ–ª–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/configuration/WebSecurityConfiguration.java`
- `ShawarmaShop/src/main/resources/templates/login.html`
- `ShawarmaShop/src/main/resources/templates/registration.html`
- `ShawarmaShop/src/main/resources/templates/fragments/common-fragments.html`
- `ShawarmaShop/src/main/resources/templates/user-info-edit.html`
- `ShawarmaShop/src/main/resources/templates/cart.html`
- `ShawarmaShop/src/main/resources/templates/shawarma.html`
- `ShawarmaShop/src/main/resources/templates/ordering.html`
- `ShawarmaShop/src/main/resources/templates/user-password-reset.html`
- `ShawarmaShop/src/main/resources/templates/reset-password.html`
- `ShawarmaShop/src/main/resources/templates/forgot-password.html`
- `ShawarmaShop/src/main/resources/templates/admin-add-shawarma.html`
- `ShawarmaShop/src/main/resources/templates/admin-edit-shawarma.html`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **WebSecurityConfiguration.java:**
   - –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `.and().csrf().disable()` (—Å—Ç—Ä–æ–∫–∞ 46) - CSRF –∑–∞—â–∏—Ç–∞ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Spring Security

2. **–í—Å–µ HTML —Ñ–æ—Ä–º—ã —Å POST –∑–∞–ø—Ä–æ—Å–∞–º–∏:**
   - –ó–∞–º–µ–Ω–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `action="/path"` –Ω–∞ `th:action="@{/path}"` –≤–æ –≤—Å–µ—Ö POST —Ñ–æ—Ä–º–∞—Ö
   - Thymeleaf –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç CSRF —Ç–æ–∫–µ–Ω –≤ —Ñ–æ—Ä–º—ã –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `th:action`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–æ—Ä–º—ã:
     - –õ–æ–≥–∏–Ω (`/login`)
     - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (`/registration`)
     - –í—ã—Ö–æ–¥ (`/logout`)
     - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`/user/info/edit`)
     - –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã (`/cart/remove`)
     - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É (`/cart/add`)
     - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (`/order`)
     - –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è (`/user/change/password`)
     - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è (`/auth/reset`)
     - –ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å (`/auth/forgot`)
     - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à–∞—É—Ä–º—ã (`/admin/add/shawarma`)
     - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞—É—Ä–º—ã (`/admin/edit/shawarma`)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** CSRF –∑–∞—â–∏—Ç–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞—Ç–∞–∫–∏ —Ç–∏–ø–∞ Cross-Site Request Forgery, –∫–æ–≥–¥–∞ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –∑–∞—Å—Ç–∞–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ –µ–≥–æ –≤–µ–¥–æ–º–∞
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices:** –í–∫–ª—é—á–µ–Ω–∏–µ CSRF –∑–∞—â–∏—Ç—ã - —ç—Ç–æ –±–∞–∑–æ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ó–∞—â–∏—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å –¥—Ä—É–≥–∏—Ö —Å–∞–π—Ç–æ–≤

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/configuration/WebSecurityConfiguration.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/configuration/WebSecurityConfiguration.java
@@ -43,5 +43,4 @@ public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {
                 .and()
                     .logout()
                     .permitAll()
-                .and().csrf().disable();
     }
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ö (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ login.html):
```diff
--- a/ShawarmaShop/src/main/resources/templates/login.html
+++ b/ShawarmaShop/src/main/resources/templates/login.html
@@ -14,7 +14,7 @@
                 –ù–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ü–æ—á—Ç—ã –∏–ª–∏ –ü–∞—Ä–æ–ª—å
             </div>
             <th:block th:replace="fragments/common-fragments :: alert-message"/>
-            <form method="post" action="/login">
+            <form method="post" th:action="@{/login}">
                 <div class="container mt-5">
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** CSRF –∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞, –≤—Å–µ POST —Ñ–æ—Ä–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ CSRF —Ç–æ–∫–µ–Ω–æ–≤. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç CSRF –∞—Ç–∞–∫.

---

### –ó–∞–¥–∞—á–∞ 1.3: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ó–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @SneakyThrows –Ω–∞ —è–≤–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AdminService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/AdminController.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **AdminServiceImpl.java:**
   - –£–¥–∞–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@SneakyThrows` –∏–∑ –º–µ—Ç–æ–¥–∞ `editShawarma()` (—Å—Ç—Ä–æ–∫–∞ 88)
   - –£–¥–∞–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@SneakyThrows` –∏–∑ –º–µ—Ç–æ–¥–∞ `addShawarma()` (—Å—Ç—Ä–æ–∫–∞ 95)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ —è–≤–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ `throws IOException` –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ `editShawarma()` –∏ `addShawarma()`
   - –£–¥–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `lombok.SneakyThrows`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

2. **AdminService.java (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `java.io.IOException`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ `throws IOException` –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ `editShawarma()` –∏ `addShawarma()` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

3. **AdminController.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `java.io.IOException`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ `throws IOException` –≤ –º–µ—Ç–æ–¥—ã `editShawarma()` –∏ `addShawarma()` –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —É–¥–∞–ª–µ–Ω –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π `System.out.println(shawarma);` –∏–∑ –º–µ—Ç–æ–¥–∞ `addShawarma()` (–∑–∞–¥–∞—á–∞ 1.5)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å:** –Ø–≤–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–µ–ª–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º - —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–¥—É–º—ã–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–±–æ–µ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–º
- **–õ—É—á—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å:** –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º, —Ç–∞–∫ –∫–∞–∫ –≤–∏–¥–Ω–æ, –∫–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
@@ -15,7 +15,6 @@
 import com.gmail.v.c.charkin.gurmanfood.service.AdminService;
 import lombok.RequiredArgsConstructor;
-import lombok.SneakyThrows;
 import org.modelmapper.ModelMapper;
@@ -87,16 +86,14 @@ public class AdminServiceImpl implements AdminService {
     }
 
     @Override
-    @SneakyThrows
     @Transactional
-    public MessageResponse editShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) {
+    public MessageResponse editShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) throws IOException {
         return saveShawarma(shawarmaRequest, file, SuccessMessage.SHAWARMA_EDITED);
     }
 
     @Override
-    @SneakyThrows
     @Transactional
-    public MessageResponse addShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) {
+    public MessageResponse addShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) throws IOException {
         return saveShawarma(shawarmaRequest, file, SuccessMessage.SHAWARMA_ADDED);
     }
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AdminService.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AdminService.java
@@ -11,6 +11,8 @@
 import org.springframework.data.domain.Pageable;
 import org.springframework.web.multipart.MultipartFile;
 
+import java.io.IOException;
+
 public interface AdminService {
@@ -31,6 +33,6 @@
     Shawarma getShawarmaById(Long shawarmaId);
 
-    MessageResponse editShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file);
+    MessageResponse editShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) throws IOException;
 
-    MessageResponse addShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file);
+    MessageResponse addShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) throws IOException;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —è–≤–Ω–æ, —É–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –∑–Ω–∞—é—Ç, –∫–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω—ã –º–µ—Ç–æ–¥–∞–º–∏.

---

### –ó–∞–¥–∞—á–∞ 1.5: –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –∫–æ–¥–∞

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –£–¥–∞–ª–∏—Ç—å System.out.println –∏–∑ production –∫–æ–¥–∞ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∫–æ–¥–∞.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/AdminController.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **AdminController.java:**
   - –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `System.out.println(shawarma);` –∏–∑ –º–µ—Ç–æ–¥–∞ `addShawarma()` (–±—ã–ª–∞ —Å—Ç—Ä–æ–∫–∞ 97)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞:** Production –∫–æ–¥ –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –≤—ã–≤–æ–¥—ã
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º:** –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–æ–ª–µ–µ –≥–æ—Ç–æ–≤—ã–º –∫ production

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Production –∫–æ–¥ –æ—á–∏—â–µ–Ω –æ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –≤—ã–≤–æ–¥–æ–≤. (–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤–º–µ—Å—Ç–µ —Å –∑–∞–¥–∞—á–µ–π 1.3)

---

### –ó–∞–¥–∞—á–∞ 1.4: –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (FileService)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/FileService.java` (–Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/FileServiceImpl.java` (–Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **FileService.java (–Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):**
   - –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç–æ–¥–∞–º–∏:
     - `String saveFile(MultipartFile file) throws IOException` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
     - `void deleteFile(String filename) throws IOException` - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
     - `boolean fileExists(String filename)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤

2. **FileServiceImpl.java (–Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π:
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (max 10MB)
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (—Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: jpg, png, jpeg)
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º UUID
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π (—É—Ä–æ–≤–µ–Ω—å DEBUG)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

3. **AdminServiceImpl.java:**
   - –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ `uploadPath` –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Value("${upload.path}")`
   - –£–¥–∞–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `java.io.File` –∏ `java.util.UUID`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∂–µ–∫—Ü–∏—è `FileService`
   - –ú–µ—Ç–æ–¥ `saveShawarma()` —É–ø—Ä–æ—â–µ–Ω:
     - –£–¥–∞–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
     - –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –≤—ã–∑–æ–≤ `fileService.saveFile(file)`
     - –£–ø—Ä–æ—â–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `file.isEmpty()` –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–º–µ–Ω–∏)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle):** –ë–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å –±–æ–ª—å—à–µ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** FileService –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ (—Ä–∞–∑–º–µ—Ä, —Ç–∏–ø, –∏–º—è)

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
@@ -12,21 +12,19 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.OrderRepository;
 import com.gmail.v.c.charkin.gurmanfood.repository.ShawarmaRepository;
 import com.gmail.v.c.charkin.gurmanfood.repository.UserRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.AdminService;
+import com.gmail.v.c.charkin.gurmanfood.service.FileService;
 import lombok.RequiredArgsConstructor;
 import org.modelmapper.ModelMapper;
-import org.springframework.beans.factory.annotation.Value;
 import org.springframework.data.domain.Page;
@@ -33,9 +33,8 @@
 @Service
 @RequiredArgsConstructor
 public class AdminServiceImpl implements AdminService {
 
-    @Value("${upload.path}")
-    private String uploadPath;
-
     private final UserRepository userRepository;
     private final ShawarmaRepository shawarmaRepository;
     private final OrderRepository orderRepository;
     private final ModelMapper modelMapper;
+    private final FileService fileService;
@@ -106,17 +105,9 @@
 
     private MessageResponse saveShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file, String message) throws IOException {
         Shawarma shawarma = modelMapper.map(shawarmaRequest, Shawarma.class);
-        if (file != null && !file.getOriginalFilename().isEmpty()) {
-            File uploadDir = new File(uploadPath);
-
-            if (!uploadDir.exists()) {
-                uploadDir.mkdir();
-            }
-            String uuidFile = UUID.randomUUID().toString();
-            String resultFilename = uuidFile + "." + file.getOriginalFilename();
-            file.transferTo(new File(uploadPath + "/" + resultFilename));
+        if (file != null && !file.isEmpty()) {
+            String resultFilename = fileService.saveFile(file);
             shawarma.setFilename(resultFilename);
         }
         shawarmaRepository.save(shawarma);
         return new MessageResponse("alert-success", message);
     }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. FileService –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

---

### –ó–∞–¥–∞—á–∞ 1.6: –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å JPA

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ó–∞–º–µ–Ω–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥ getOne() –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π findById() –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–∫—Ä—ã—Ç—ã—Ö –æ—à–∏–±–æ–∫.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **CartServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã:
     - `com.gmail.v.c.charkin.gurmanfood.constants.ErrorMessage`
     - `org.springframework.http.HttpStatus`
     - `org.springframework.web.server.ResponseStatusException`
   - –í –º–µ—Ç–æ–¥–µ `addShawarmaToCart()` (—Å—Ç—Ä–æ–∫–∞ 31):
     - –ó–∞–º–µ–Ω–µ–Ω `shawarmaRepository.getOne(shawarmaId)` –Ω–∞ `shawarmaRepository.findById(shawarmaId).orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND, ErrorMessage.SHAWARMA_NOT_FOUND))`
   - –í –º–µ—Ç–æ–¥–µ `removeShawarmaFromCart()` (—Å—Ç—Ä–æ–∫–∞ 39):
     - –ó–∞–º–µ–Ω–µ–Ω `shawarmaRepository.getOne(shawarmaId)` –Ω–∞ `shawarmaRepository.findById(shawarmaId).orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND, ErrorMessage.SHAWARMA_NOT_FOUND))`

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö –æ—à–∏–±–æ–∫:** –ú–µ—Ç–æ–¥ `getOne()` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –ë–î –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∏ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç, —á—Ç–æ —á–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ `EntityNotFoundException` –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ. `findById()` —Å—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
- **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –¥–µ–ª–∞—è –∫–æ–¥ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ JPA:** `getOne()` –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ deprecated –≤ –±–æ–ª–µ–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö JPA

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java
@@ -3,11 +3,15 @@
 import com.gmail.v.c.charkin.gurmanfood.domain.Shawarma;
 import com.gmail.v.c.charkin.gurmanfood.domain.User;
 import com.gmail.v.c.charkin.gurmanfood.repository.ShawarmaRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.CartService;
 import com.gmail.v.c.charkin.gurmanfood.service.UserService;
 import lombok.RequiredArgsConstructor;
+import org.springframework.http.HttpStatus;
 import org.springframework.stereotype.Service;
 import org.springframework.transaction.annotation.Transactional;
+import org.springframework.web.server.ResponseStatusException;
+
+import com.gmail.v.c.charkin.gurmanfood.constants.ErrorMessage;
 
 import java.util.List;
@@ -29,13 +33,15 @@
     @Override
     @Transactional
     public void addShawarmaToCart(Long shawarmaId) {
         User user = userService.getAuthenticatedUser();
-        Shawarma shawarma = shawarmaRepository.getOne(shawarmaId);
+        Shawarma shawarma = shawarmaRepository.findById(shawarmaId)
+                .orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND, ErrorMessage.SHAWARMA_NOT_FOUND));
         user.getShawarmaList().add(shawarma);
     }
 
     @Override
     @Transactional
     public void removeShawarmaFromCart(Long shawarmaId) {
         User user = userService.getAuthenticatedUser();
-        Shawarma shawarma = shawarmaRepository.getOne(shawarmaId);
+        Shawarma shawarma = shawarmaRepository.findById(shawarmaId)
+                .orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND, ErrorMessage.SHAWARMA_NOT_FOUND));
         user.getShawarmaList().remove(shawarma);
     }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã JPA, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏, –∏—Å–∫–ª—é—á–µ–Ω—ã —Å–∫—Ä—ã—Ç—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

---

### üìπ –í–∏–¥–µ–æ–æ—Ç—á–µ—Ç –ø–æ –∏—Ç–æ–≥–∞–º –ò—Ç–µ—Ä–∞—Ü–∏–∏ 1

> **üé¨ [–°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ–æ—Ç—á–µ—Ç –ø–æ –ò—Ç–µ—Ä–∞—Ü–∏–∏ 1](https://drive.google.com/file/d/1mL-2-CpcVp6bHTa52Y2Dqof5RRgVN8tz/view?usp=sharing)**

---

---

## –ò–¢–ï–†–ê–¶–ò–Ø 2: –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### –ó–∞–¥–∞—á–∞ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ GlobalExceptionHandler

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/GlobalExceptionHandler.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **GlobalExceptionHandler.java (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å):**
   - –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@ControllerAdvice` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleResponseStatusException()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `ResponseStatusException`:
     - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç HTTP —Å—Ç–∞—Ç—É—Å –∏–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
     - –õ–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É —Å —É—Ä–æ–≤–Ω–µ–º ERROR
     - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏ (404 –∏–ª–∏ 500)
     - –ü–µ—Ä–µ–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ –º–æ–¥–µ–ª—å
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleIOException()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏:
     - –õ–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É —Å —É—Ä–æ–≤–Ω–µ–º ERROR
     - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 500 —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleException()` –∫–∞–∫ fallback –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π:
     - –õ–æ–≥–∏—Ä—É–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å —É—Ä–æ–≤–Ω–µ–º ERROR
     - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 500 —Å –æ–±—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω SLF4J Logger –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:** –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –æ–ø—ã—Ç
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:** –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–º–µ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π

**Diff:**

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/GlobalExceptionHandler.java
@@ -0,0 +1,66 @@
+package com.gmail.v.c.charkin.gurmanfood.exception;
+
+import com.gmail.v.c.charkin.gurmanfood.constants.Pages;
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
+import org.springframework.http.HttpStatus;
+import org.springframework.ui.Model;
+import org.springframework.web.bind.annotation.ControllerAdvice;
+import org.springframework.web.bind.annotation.ExceptionHandler;
+import org.springframework.web.server.ResponseStatusException;
+
+import java.io.IOException;
+
+/**
+ * –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
+ * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤.
+ */
+@ControllerAdvice
+public class GlobalExceptionHandler {
+
+    private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class);
+
+    /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ResponseStatusException - –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å HTTP —Å—Ç–∞—Ç—É—Å–∞–º–∏.
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(ResponseStatusException.class)
+    public String handleResponseStatusException(ResponseStatusException ex, Model model) {
+        logger.error("ResponseStatusException occurred: {}", ex.getMessage(), ex);
+        
+        HttpStatus status = ex.getStatus();
+        String errorMessage = ex.getReason() != null ? ex.getReason() : ex.getMessage();
+        
+        model.addAttribute("errorMessage", errorMessage);
+        
+        if (status == HttpStatus.NOT_FOUND) {
+            return Pages.ERROR_404;
+        }
+        
+        return Pages.ERROR_500;
+    }
+
+    /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç IOException - –æ—à–∏–±–∫–∏ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏.
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(IOException.class)
+    public String handleIOException(IOException ex, Model model) {
+        logger.error("IOException occurred: {}", ex.getMessage(), ex);
+        model.addAttribute("errorMessage", "File operation error: " + ex.getMessage());
+        return Pages.ERROR_500;
+    }
+
+    /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (fallback).
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(Exception.class)
+    public String handleException(Exception ex, Model model) {
+        logger.error("Unexpected exception occurred: {}", ex.getMessage(), ex);
+        model.addAttribute("errorMessage", "An unexpected error occurred. Please try again later.");
+        return Pages.ERROR_500;
+    }
+}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ, –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.

---

### –ó–∞–¥–∞—á–∞ 2.2: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –°–æ–∑–¥–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –±–æ–ª–µ–µ —è–≤–Ω–æ–π –∏ –ø–æ–Ω—è—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, –∑–∞–º–µ–Ω—è—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ResponseStatusException` –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/BusinessLogicException.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/EntityNotFoundException.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/ValidationException.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/FileUploadException.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/GlobalExceptionHandler.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/ShawarmaServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AuthenticationServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–°–æ–∑–¥–∞–Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π:**
   - **BusinessLogicException** - –±–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (extends RuntimeException)
   - **EntityNotFoundException** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (extends BusinessLogicException, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ HTTP 404)
   - **ValidationException** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (extends BusinessLogicException)
   - **FileUploadException** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ (extends IOException)

2. **–û–±–Ω–æ–≤–ª–µ–Ω GlobalExceptionHandler:**
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleEntityNotFoundException()` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç EntityNotFoundException, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 404
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleFileUploadException()` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç FileUploadException, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 500
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleValidationException()` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ValidationException, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 500
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `handleBusinessLogicException()` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—â–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É 500
   - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç–∏ (–æ—Ç –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∫ –æ–±—â–∏–º)

3. **–ó–∞–º–µ–Ω–µ–Ω—ã ResponseStatusException –Ω–∞ EntityNotFoundException –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö:**
   - **CartServiceImpl:** –∑–∞–º–µ–Ω–µ–Ω—ã 2 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ResponseStatusException –¥–ª—è SHAWARMA_NOT_FOUND
   - **ShawarmaServiceImpl:** –∑–∞–º–µ–Ω–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ResponseStatusException –¥–ª—è SHAWARMA_NOT_FOUND
   - **OrderServiceImpl:** –∑–∞–º–µ–Ω–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ResponseStatusException –¥–ª—è ORDER_NOT_FOUND
   - **AdminServiceImpl:** –∑–∞–º–µ–Ω–µ–Ω—ã 3 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ResponseStatusException –¥–ª—è ORDER_NOT_FOUND, SHAWARMA_NOT_FOUND, USER_NOT_FOUND
   - **AuthenticationServiceImpl:** –∑–∞–º–µ–Ω–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ResponseStatusException –¥–ª—è INVALID_PASSWORD_CODE
   - –£–¥–∞–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `org.springframework.http.HttpStatus` –∏ `org.springframework.web.server.ResponseStatusException`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `com.gmail.v.c.charkin.gurmanfood.exception.EntityNotFoundException`

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —è—Å–Ω–æ—Å—Ç—å:** –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–∏–ø –æ—à–∏–±–∫–∏ (—Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –∏ IDE –ª—É—á—à–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏:** –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å

**Diff:**

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/BusinessLogicException.java
@@ -0,0 +1,15 @@
+package com.gmail.v.c.charkin.gurmanfood.exception;
+
+/**
+ * –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
+ * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏.
+ */
+public class BusinessLogicException extends RuntimeException {
+
+    public BusinessLogicException(String message) {
+        super(message);
+    }
+
+    public BusinessLogicException(String message, Throwable cause) {
+        super(message, cause);
+    }
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/EntityNotFoundException.java
@@ -0,0 +1,29 @@
+package com.gmail.v.c.charkin.gurmanfood.exception;
+
+import org.springframework.http.HttpStatus;
+import org.springframework.web.server.ResponseStatusException;
+
+/**
+ * –ò—Å–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º–æ–µ –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
+ * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ HTTP 404 —Å—Ç–∞—Ç—É—Å.
+ */
+public class EntityNotFoundException extends BusinessLogicException {
+
+    private final HttpStatus status;
+
+    public EntityNotFoundException(String message) {
+        super(message);
+        this.status = HttpStatus.NOT_FOUND;
+    }
+
+    /**
+     * –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ ResponseStatusException –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º.
+     *
+     * @return ResponseStatusException —Å HTTP 404 —Å—Ç–∞—Ç—É—Å–æ–º
+     */
+    public ResponseStatusException toResponseStatusException() {
+        return new ResponseStatusException(status, getMessage());
+    }
+
+    public HttpStatus getStatus() {
+        return status;
+    }
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/ValidationException.java
@@ -0,0 +1,17 @@
+package com.gmail.v.c.charkin.gurmanfood.exception;
+
+/**
+ * –ò—Å–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º–æ–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
+ * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
+ */
+public class ValidationException extends BusinessLogicException {
+
+    public ValidationException(String message) {
+        super(message);
+    }
+
+    public ValidationException(String message, Throwable cause) {
+        super(message, cause);
+    }
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/FileUploadException.java
@@ -0,0 +1,17 @@
+package com.gmail.v.c.charkin.gurmanfood.exception;
+
+import java.io.IOException;
+
+/**
+ * –ò—Å–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º–æ–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤.
+ * –†–∞—Å—à–∏—Ä—è–µ—Ç IOException –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º.
+ */
+public class FileUploadException extends IOException {
+
+    public FileUploadException(String message) {
+        super(message);
+    }
+
+    public FileUploadException(String message, Throwable cause) {
+        super(message, cause);
+    }
+}
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/GlobalExceptionHandler.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/exception/GlobalExceptionHandler.java
@@ -23,6 +23,50 @@
     private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class);
 
     /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç EntityNotFoundException - –∫–æ–≥–¥–∞ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(EntityNotFoundException.class)
+    public String handleEntityNotFoundException(EntityNotFoundException ex, Model model) {
+        logger.error("EntityNotFoundException occurred: {}", ex.getMessage(), ex);
+        model.addAttribute("errorMessage", ex.getMessage());
+        return Pages.ERROR_404;
+    }
+
+    /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç FileUploadException - –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤.
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(FileUploadException.class)
+    public String handleFileUploadException(FileUploadException ex, Model model) {
+        logger.error("FileUploadException occurred: {}", ex.getMessage(), ex);
+        model.addAttribute("errorMessage", "File upload error: " + ex.getMessage());
+        return Pages.ERROR_500;
+    }
+
+    /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ValidationException - –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(ValidationException.class)
+    public String handleValidationException(ValidationException ex, Model model) {
+        logger.warn("ValidationException occurred: {}", ex.getMessage(), ex);
+        model.addAttribute("errorMessage", "Validation error: " + ex.getMessage());
+        return Pages.ERROR_500;
+    }
+
+    /**
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç BusinessLogicException - –æ–±—â–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏.
+     *
+     * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
+     */
+    @ExceptionHandler(BusinessLogicException.class)
+    public String handleBusinessLogicException(BusinessLogicException ex, Model model) {
+        logger.error("BusinessLogicException occurred: {}", ex.getMessage(), ex);
+        model.addAttribute("errorMessage", ex.getMessage());
+        return Pages.ERROR_500;
+    }
+
+    /**
      * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ResponseStatusException - –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å HTTP —Å—Ç–∞—Ç—É—Å–∞–º–∏.
      * –û—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º.
      *
@@ -45,6 +89,8 @@
 
     /**
      * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç IOException - –æ—à–∏–±–∫–∏ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏.
+     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ IOException, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è FileUploadException.
      *
      * @param ex –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
      * @param model –º–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ CartServiceImpl):
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java
@@ -3,13 +3,12 @@
 import com.gmail.v.c.charkin.gurmanfood.constants.ErrorMessage;
 import com.gmail.v.c.charkin.gurmanfood.domain.Shawarma;
 import com.gmail.v.c.charkin.gurmanfood.domain.User;
+import com.gmail.v.c.charkin.gurmanfood.exception.EntityNotFoundException;
 import com.gmail.v.c.charkin.gurmanfood.repository.ShawarmaRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.CartService;
 import com.gmail.v.c.charkin.gurmanfood.service.UserService;
 import lombok.RequiredArgsConstructor;
-import org.springframework.http.HttpStatus;
 import org.springframework.stereotype.Service;
 import org.springframework.transaction.annotation.Transactional;
-import org.springframework.web.server.ResponseStatusException;
 
 import java.util.List;
@@ -33,7 +32,7 @@
     public void addShawarmaToCart(Long shawarmaId) {
         User user = userService.getAuthenticatedUser();
         Shawarma shawarma = shawarmaRepository.findById(shawarmaId)
-                .orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND, ErrorMessage.SHAWARMA_NOT_FOUND));
+                .orElseThrow(() -> new EntityNotFoundException(ErrorMessage.SHAWARMA_NOT_FOUND));
         user.getShawarmaList().add(shawarma);
     }
 
@@ -42,7 +41,7 @@
     public void removeShawarmaFromCart(Long shawarmaId) {
         User user = userService.getAuthenticatedUser();
         Shawarma shawarma = shawarmaRepository.findById(shawarmaId)
-                .orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND, ErrorMessage.SHAWARMA_NOT_FOUND));
+                .orElseThrow(() -> new EntityNotFoundException(ErrorMessage.SHAWARMA_NOT_FOUND));
         user.getShawarmaList().remove(shawarma);
     }
 }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –í—Å–µ —Å–ª—É—á–∞–∏ "—Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞" —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `EntityNotFoundException` –≤–º–µ—Å—Ç–æ `ResponseStatusException`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –ø–æ–Ω—è—Ç–Ω—ã–º –∏ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ HTTP —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

### –ó–∞–¥–∞—á–∞ 2.3: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –í—ã–Ω–µ—Å—Ç–∏ –¥—É–±–ª–∏—Ä—É—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/PasswordValidationService.java` (–Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/PasswordValidationServiceImpl.java` (–Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AuthenticationServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–°–æ–∑–¥–∞–Ω PasswordValidationService (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω –º–µ—Ç–æ–¥ `validatePasswordMatch(String password, String password2)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏ –µ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `MessageResponse` —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –∏–ª–∏ `null`, –µ—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

2. **–°–æ–∑–¥–∞–Ω PasswordValidationServiceImpl (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
   - –ï—Å–ª–∏ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `MessageResponse` —Å —Ç–∏–ø–æ–º "passwordError" –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ–º `ErrorMessage.PASSWORDS_DO_NOT_MATCH`
   - –ï—Å–ª–∏ –ø–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `null`

3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PasswordValidationService:**
   - **RegistrationServiceImpl:**
     - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∂–µ–∫—Ü–∏—è `PasswordValidationService`
     - –ó–∞–º–µ–Ω–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (userRequest.getPassword() != null && !userRequest.getPassword().equals(userRequest.getPassword2()))` –Ω–∞ –≤—ã–∑–æ–≤ `passwordValidationService.validatePasswordMatch()`
   - **UserServiceImpl:**
     - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∂–µ–∫—Ü–∏—è `PasswordValidationService`
     - –ó–∞–º–µ–Ω–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (request.getPassword() != null && !request.getPassword().equals(request.getPassword2()))` –Ω–∞ –≤—ã–∑–æ–≤ `passwordValidationService.validatePasswordMatch()`
     - –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç `ErrorMessage`
   - **AuthenticationServiceImpl:**
     - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∂–µ–∫—Ü–∏—è `PasswordValidationService`
     - –ó–∞–º–µ–Ω–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (request.getPassword() != null && !request.getPassword().equals(request.getPassword2()))` –Ω–∞ –≤—ã–∑–æ–≤ `passwordValidationService.validatePasswordMatch()`

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (DRY –ø—Ä–∏–Ω—Ü–∏–ø):** –õ–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –í—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–∞—Ä–æ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ª–æ–≥–∏–∫—É, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –°–µ—Ä–≤–∏—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫—É —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è) –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

**Diff:**

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/PasswordValidationService.java
@@ -0,0 +1,15 @@
+package com.gmail.v.c.charkin.gurmanfood.service;
+
+import com.gmail.v.c.charkin.gurmanfood.dto.response.MessageResponse;
+
+/**
+ * –°–µ—Ä–≤–∏—Å –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π.
+ * –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª–µ–π.
+ */
+public interface PasswordValidationService {
+
+    /**
+     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏ –µ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
+     *
+     * @param password –ø–∞—Ä–æ–ª—å
+     * @param password2 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
+     * @return MessageResponse —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –∏–ª–∏ null, –µ—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
+     */
+    MessageResponse validatePasswordMatch(String password, String password2);
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/PasswordValidationServiceImpl.java
@@ -0,0 +1,20 @@
+package com.gmail.v.c.charkin.gurmanfood.service.impl;
+
+import com.gmail.v.c.charkin.gurmanfood.constants.ErrorMessage;
+import com.gmail.v.c.charkin.gurmanfood.dto.response.MessageResponse;
+import com.gmail.v.c.charkin.gurmanfood.service.PasswordValidationService;
+import org.springframework.stereotype.Service;
+
+/**
+ * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π.
+ */
+@Service
+public class PasswordValidationServiceImpl implements PasswordValidationService {
+
+    @Override
+    public MessageResponse validatePasswordMatch(String password, String password2) {
+        if (password != null && !password.equals(password2)) {
+            return new MessageResponse("passwordError", ErrorMessage.PASSWORDS_DO_NOT_MATCH);
+        }
+        return null;
+    }
+}
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ RegistrationServiceImpl):
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java
@@ -11,6 +11,7 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.UserRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.RegistrationService;
+import com.gmail.v.c.charkin.gurmanfood.service.PasswordValidationService;
 import lombok.RequiredArgsConstructor;
@@ -29,6 +30,7 @@
     private final PasswordEncoder passwordEncoder;
     private final RestTemplate restTemplate;
     private final ModelMapper modelMapper;
+    private final PasswordValidationService passwordValidationService;
 
     @Value("${recaptcha.url}")
     private String captchaUrl;
@@ -42,7 +44,10 @@
     @Override
     @Transactional
     public MessageResponse registration(String captchaResponse, UserRequest userRequest) {
-        if (userRequest.getPassword() != null && !userRequest.getPassword().equals(userRequest.getPassword2())) {
-            return new MessageResponse("passwordError", ErrorMessage.PASSWORDS_DO_NOT_MATCH);
+        MessageResponse passwordValidation = passwordValidationService.validatePasswordMatch(
+                userRequest.getPassword(), userRequest.getPassword2());
+        if (passwordValidation != null) {
+            return passwordValidation;
         }
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ UserServiceImpl:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java
@@ -3,7 +3,6 @@
-import com.gmail.v.c.charkin.gurmanfood.constants.ErrorMessage;
 import com.gmail.v.c.charkin.gurmanfood.constants.SuccessMessage;
@@ -13,6 +12,7 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.UserRepository;
 import com.gmail.v.c.charkin.gurmanfood.security.UserPrincipal;
 import com.gmail.v.c.charkin.gurmanfood.service.PasswordValidationService;
 import com.gmail.v.c.charkin.gurmanfood.service.UserService;
@@ -27,6 +27,7 @@
     private final UserRepository userRepository;
     private final OrderRepository orderRepository;
     private final PasswordEncoder passwordEncoder;
+    private final PasswordValidationService passwordValidationService;
 
     @Override
     public User getAuthenticatedUser() {
@@ -57,7 +58,10 @@
     @Override
     @Transactional
     public MessageResponse changePassword(ChangePasswordRequest request) {
-        if (request.getPassword() != null && !request.getPassword().equals(request.getPassword2())) {
-            return new MessageResponse("passwordError", ErrorMessage.PASSWORDS_DO_NOT_MATCH);
+        MessageResponse passwordValidation = passwordValidationService.validatePasswordMatch(
+                request.getPassword(), request.getPassword2());
+        if (passwordValidation != null) {
+            return passwordValidation;
         }
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ AuthenticationServiceImpl:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AuthenticationServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AuthenticationServiceImpl.java
@@ -9,6 +9,7 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.UserRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.AuthenticationService;
+import com.gmail.v.c.charkin.gurmanfood.service.PasswordValidationService;
 import lombok.RequiredArgsConstructor;
@@ -24,6 +25,7 @@
     private final UserRepository userRepository;
     private final PasswordEncoder passwordEncoder;
     private final MailService mailService;
+    private final PasswordValidationService passwordValidationService;
 
     @Override
     @Transactional
@@ -49,7 +51,10 @@
     @Override
     @Transactional
     public MessageResponse resetPassword(PasswordResetRequest request) {
-        if (request.getPassword() != null && !request.getPassword().equals(request.getPassword2())) {
-            return new MessageResponse("passwordError", ErrorMessage.PASSWORDS_DO_NOT_MATCH);
+        MessageResponse passwordValidation = passwordValidationService.validatePasswordMatch(
+                request.getPassword(), request.getPassword2());
+        if (passwordValidation != null) {
+            return passwordValidation;
         }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –õ–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å `PasswordValidationService`. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ - –≤—Å–µ —Ç—Ä–∏ –º–µ—Å—Ç–∞ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è, —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è) —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –±—É–¥—É—â–µ–º.

---

### –ó–∞–¥–∞—á–∞ 2.4: –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ DTO –º–∞–ø–ø–µ—Ä–∞

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTO –≤ —Å—É—â–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/DtoMapper.java` (–Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/DtoMapperImpl.java` (–Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/ShawarmaServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–°–æ–∑–¥–∞–Ω DtoMapper (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTO –≤ —Å—É—â–Ω–æ—Å—Ç–∏:
     - `mapToUser(UserRequest userRequest)` - –º–∞–ø–ø–∏–Ω–≥ UserRequest –≤ User
     - `mapToShawarma(ShawarmaRequest shawarmaRequest)` - –º–∞–ø–ø–∏–Ω–≥ ShawarmaRequest –≤ Shawarma
     - `mapToOrder(OrderRequest orderRequest)` - –º–∞–ø–ø–∏–Ω–≥ OrderRequest –≤ Order
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤

2. **–°–æ–∑–¥–∞–Ω DtoMapperImpl (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ModelMapper –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ–ª–µ–π
   - –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç –≤—ã–∑–æ–≤—ã ModelMapper
   - –ò–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è ModelMapper —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Lombok @RequiredArgsConstructor)

3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DtoMapper:**
   - **RegistrationServiceImpl:**
     - –ó–∞–º–µ–Ω–µ–Ω `ModelMapper` –Ω–∞ `DtoMapper`
     - –ó–∞–º–µ–Ω–µ–Ω –≤—ã–∑–æ–≤ `modelMapper.map(userRequest, User.class)` –Ω–∞ `dtoMapper.mapToUser(userRequest)`
   - **AdminServiceImpl:**
     - –ó–∞–º–µ–Ω–µ–Ω `ModelMapper` –Ω–∞ `DtoMapper`
     - –ó–∞–º–µ–Ω–µ–Ω –≤—ã–∑–æ–≤ `modelMapper.map(shawarmaRequest, Shawarma.class)` –Ω–∞ `dtoMapper.mapToShawarma(shawarmaRequest)`
   - **OrderServiceImpl:**
     - –ó–∞–º–µ–Ω–µ–Ω `ModelMapper` –Ω–∞ `DtoMapper`
     - –ó–∞–º–µ–Ω–µ–Ω –≤—ã–∑–æ–≤ `modelMapper.map(orderRequest, Order.class)` –Ω–∞ `dtoMapper.mapToOrder(orderRequest)`
   - **ShawarmaServiceImpl:**
     - –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π `ModelMapper` (–±—ã–ª –æ–±—ä—è–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞:** –í—Å—è –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è DTO –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –º–∞–ø–ø–∏–Ω–≥–∞
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** –ë–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã –±–æ–ª—å—à–µ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç ModelMapper, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –±–æ–ª–µ–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –º–∞–ø–ø–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞–ø–ø–∏–Ω–≥ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤) –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏–∫—É –º–∞–ø–ø–∏–Ω–≥–∞ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –í—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–∞–ø–ø–∏–Ω–≥, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

**Diff:**

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/DtoMapper.java
@@ -0,0 +1,32 @@
+package com.gmail.v.c.charkin.gurmanfood.service;
+
+import com.gmail.v.c.charkin.gurmanfood.domain.Order;
+import com.gmail.v.c.charkin.gurmanfood.domain.Shawarma;
+import com.gmail.v.c.charkin.gurmanfood.domain.User;
+import com.gmail.v.c.charkin.gurmanfood.dto.request.OrderRequest;
+import com.gmail.v.c.charkin.gurmanfood.dto.request.ShawarmaRequest;
+import com.gmail.v.c.charkin.gurmanfood.dto.request.UserRequest;
+
+/**
+ * –°–µ—Ä–≤–∏—Å –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTO –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –æ–±—Ä–∞—Ç–Ω–æ.
+ * –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç –≤—Å—é –ª–æ–≥–∏–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ–º–µ–Ω–∞.
+ */
+public interface DtoMapper {
+
+    /**
+     * –ú–∞–ø–ø–∏—Ç UserRequest –≤ User.
+     *
+     * @param userRequest DTO –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
+     * @return —Å—É—â–Ω–æ—Å—Ç—å User
+     */
+    User mapToUser(UserRequest userRequest);
+
+    /**
+     * –ú–∞–ø–ø–∏—Ç ShawarmaRequest –≤ Shawarma.
+     *
+     * @param shawarmaRequest DTO –∑–∞–ø—Ä–æ—Å–∞ —à–∞—É—Ä–º—ã
+     * @return —Å—É—â–Ω–æ—Å—Ç—å Shawarma
+     */
+    Shawarma mapToShawarma(ShawarmaRequest shawarmaRequest);
+
+    /**
+     * –ú–∞–ø–ø–∏—Ç OrderRequest –≤ Order.
+     *
+     * @param orderRequest DTO –∑–∞–ø—Ä–æ—Å–∞ –∑–∞–∫–∞–∑–∞
+     * @return —Å—É—â–Ω–æ—Å—Ç—å Order
+     */
+    Order mapToOrder(OrderRequest orderRequest);
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/DtoMapperImpl.java
@@ -0,0 +1,37 @@
+package com.gmail.v.c.charkin.gurmanfood.service.impl;
+
+import com.gmail.v.c.charkin.gurmanfood.domain.Order;
+import com.gmail.v.c.charkin.gurmanfood.domain.Shawarma;
+import com.gmail.v.c.charkin.gurmanfood.domain.User;
+import com.gmail.v.c.charkin.gurmanfood.dto.request.OrderRequest;
+import com.gmail.v.c.charkin.gurmanfood.dto.request.ShawarmaRequest;
+import com.gmail.v.c.charkin.gurmanfood.dto.request.UserRequest;
+import com.gmail.v.c.charkin.gurmanfood.service.DtoMapper;
+import lombok.RequiredArgsConstructor;
+import org.modelmapper.ModelMapper;
+import org.springframework.stereotype.Service;
+
+/**
+ * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –º–∞–ø–ø–∏–Ω–≥–∞ DTO.
+ * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ModelMapper –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ–ª–µ–π.
+ */
+@Service
+@RequiredArgsConstructor
+public class DtoMapperImpl implements DtoMapper {
+
+    private final ModelMapper modelMapper;
+
+    @Override
+    public User mapToUser(UserRequest userRequest) {
+        return modelMapper.map(userRequest, User.class);
+    }
+
+    @Override
+    public Shawarma mapToShawarma(ShawarmaRequest shawarmaRequest) {
+        return modelMapper.map(shawarmaRequest, Shawarma.class);
+    }
+
+    @Override
+    public Order mapToOrder(OrderRequest orderRequest) {
+        return modelMapper.map(orderRequest, Order.class);
+    }
+}
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ RegistrationServiceImpl):
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java
@@ -11,7 +11,7 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.UserRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.PasswordValidationService;
 import com.gmail.v.c.charkin.gurmanfood.service.RegistrationService;
+import com.gmail.v.c.charkin.gurmanfood.service.DtoMapper;
 import lombok.RequiredArgsConstructor;
-import org.modelmapper.ModelMapper;
@@ -32,7 +32,7 @@
     private final PasswordEncoder passwordEncoder;
     private final RestTemplate restTemplate;
-    private final ModelMapper modelMapper;
+    private final DtoMapper dtoMapper;
     private final PasswordValidationService passwordValidationService;
@@ -60,7 +60,7 @@
         if (!response.isSuccess()) {
             return new MessageResponse("captchaError", ErrorMessage.CAPTCHA_ERROR);
         }
-        User user = modelMapper.map(userRequest, User.class);
+        User user = dtoMapper.mapToUser(userRequest);
         user.setActive(false);
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ AdminServiceImpl:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
@@ -16,7 +16,7 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.UserRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.AdminService;
+import com.gmail.v.c.charkin.gurmanfood.service.DtoMapper;
 import com.gmail.v.c.charkin.gurmanfood.service.FileService;
 import lombok.RequiredArgsConstructor;
-import org.modelmapper.ModelMapper;
@@ -33,7 +33,7 @@
     private final ShawarmaRepository shawarmaRepository;
     private final OrderRepository orderRepository;
-    private final ModelMapper modelMapper;
+    private final DtoMapper dtoMapper;
     private final FileService fileService;
@@ -101,7 +101,7 @@
 
     private MessageResponse saveShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file, String message) throws IOException {
-        Shawarma shawarma = modelMapper.map(shawarmaRequest, Shawarma.class);
+        Shawarma shawarma = dtoMapper.mapToShawarma(shawarmaRequest);
         if (file != null && !file.isEmpty()) {
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ OrderServiceImpl:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java
@@ -10,7 +10,7 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.OrderRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.OrderService;
+import com.gmail.v.c.charkin.gurmanfood.service.DtoMapper;
 import com.gmail.v.c.charkin.gurmanfood.service.UserService;
 import lombok.RequiredArgsConstructor;
-import org.modelmapper.ModelMapper;
@@ -27,7 +27,7 @@
     private final UserService userService;
     private final OrderRepository orderRepository;
-    private final ModelMapper modelMapper;
+    private final DtoMapper dtoMapper;
     private final MailService mailService;
@@ -53,7 +53,7 @@
     @Transactional
     public Long postOrder(User user, OrderRequest orderRequest) {
-        Order order = modelMapper.map(orderRequest, Order.class);
+        Order order = dtoMapper.mapToOrder(orderRequest);
         order.setUser(user);
```

–ü—Ä–∏–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ ModelMapper –∏–∑ ShawarmaServiceImpl:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/ShawarmaServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/ShawarmaServiceImpl.java
@@ -8,7 +8,6 @@
 import com.gmail.v.c.charkin.gurmanfood.repository.ShawarmaRepository;
 import com.gmail.v.c.charkin.gurmanfood.service.ShawarmaService;
 import lombok.RequiredArgsConstructor;
-import org.modelmapper.ModelMapper;
 import org.springframework.data.domain.Page;
@@ -21,7 +20,6 @@
 public class ShawarmaServiceImpl implements ShawarmaService {
 
     private final ShawarmaRepository shawarmaRepository;
-    private final ModelMapper modelMapper;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å `DtoMapper` –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ DTO –≤ —Å—É—â–Ω–æ—Å—Ç–∏. –í—Å–µ –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É –º–∞–ø–ø–∏–Ω–≥–∞ –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç ModelMapper —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å–æ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –±–æ–ª–µ–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º–∏.

---

### –ó–∞–¥–∞—á–∞ 2.5: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ MailService –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ExecutorService

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º ExecutorService –≤ MailService - —Å–æ–∑–¥–∞—Ç—å –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å –µ–≥–æ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/MailService.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º ExecutorService:**
   - ExecutorService —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–Ω–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `init()` —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@PostConstruct`
   - ExecutorService –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `THREAD_POOL_SIZE = 10` –∏ `SHUTDOWN_TIMEOUT_SECONDS = 30` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç–∏

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ ExecutorService:**
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `destroy()` —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@PreDestroy` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ExecutorService –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ graceful shutdown:
     - –°–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `shutdown()` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–µ–º–∞ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
     - –û–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ —Ç–µ—á–µ–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥
     - –ï—Å–ª–∏ –∑–∞–¥–∞—á–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `shutdownNow()` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
     - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è `InterruptedException` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π

3. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –î–æ–±–∞–≤–ª–µ–Ω SLF4J Logger —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Slf4j`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ExecutorService
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email (—É—Ä–æ–≤–µ–Ω—å DEBUG)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ email (—É—Ä–æ–≤–µ–Ω—å ERROR)
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

4. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - –î–æ–±–∞–≤–ª–µ–Ω JavaDoc –¥–ª—è –∫–ª–∞—Å—Å–∞
   - –î–æ–±–∞–≤–ª–µ–Ω JavaDoc –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ExecutorService —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —á–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—É–ª–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ ExecutorService –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–µ—Ä–≤–∞–Ω—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º ExecutorService –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–æ—Ç–æ–∫–æ–≤ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@PostConstruct` –∏ `@PreDestroy` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Spring

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/MailService.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/MailService.java
@@ -1,51 +1,95 @@
 package com.gmail.v.c.charkin.gurmanfood.service.impl;
 
 import lombok.RequiredArgsConstructor;
+import lombok.extern.slf4j.Slf4j;
 import org.springframework.beans.factory.annotation.Value;
 import org.springframework.mail.javamail.JavaMailSender;
 import org.springframework.mail.javamail.MimeMessageHelper;
 import org.springframework.stereotype.Service;
 import org.thymeleaf.context.Context;
 import org.thymeleaf.spring5.SpringTemplateEngine;
 
+import javax.annotation.PostConstruct;
+import javax.annotation.PreDestroy;
 import javax.mail.MessagingException;
 import javax.mail.internet.MimeMessage;
 import java.util.Map;
 import java.util.concurrent.ExecutorService;
 import java.util.concurrent.Executors;
+import java.util.concurrent.TimeUnit;
 
+/**
+ * –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email —Å–æ–æ–±—â–µ–Ω–∏–π.
+ * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ExecutorService –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º.
+ */
+@Slf4j
 @Service
 @RequiredArgsConstructor
 public class MailService {
 
+    private static final int THREAD_POOL_SIZE = 10;
+    private static final long SHUTDOWN_TIMEOUT_SECONDS = 30;
+
     private final JavaMailSender mailSender;
     private final SpringTemplateEngine thymeleafTemplateEngine;
 
     @Value("${spring.mail.username}")
     private String username;
 
     @Value("${hostname}")
     private String hostname;
 
+    private ExecutorService executorService;
+
+    /**
+     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç ExecutorService –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏–Ω–∞.
+     */
+    @PostConstruct
+    public void init() {
+        executorService = Executors.newFixedThreadPool(THREAD_POOL_SIZE);
+        log.info("MailService initialized with thread pool size: {}", THREAD_POOL_SIZE);
+    }
+
+    /**
+     * –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç ExecutorService –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
+     */
+    @PreDestroy
+    public void destroy() {
+        if (executorService != null) {
+            log.info("Shutting down MailService ExecutorService...");
+            executorService.shutdown();
+            try {
+                if (!executorService.awaitTermination(SHUTDOWN_TIMEOUT_SECONDS, TimeUnit.SECONDS)) {
+                    log.warn("ExecutorService did not terminate in {} seconds, forcing shutdown", SHUTDOWN_TIMEOUT_SECONDS);
+                    executorService.shutdownNow();
+                    if (!executorService.awaitTermination(SHUTDOWN_TIMEOUT_SECONDS, TimeUnit.SECONDS)) {
+                        log.error("ExecutorService did not terminate after forced shutdown");
+                    }
+                }
+            } catch (InterruptedException e) {
+                log.error("Interrupted while waiting for ExecutorService termination", e);
+                executorService.shutdownNow();
+                Thread.currentThread().interrupt();
+            }
+            log.info("MailService ExecutorService shutdown completed");
+        }
+    }
+
+    /**
+     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTML email —Å–æ–æ–±—â–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
+     *
+     * @param to –∞–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è
+     * @param subject —Ç–µ–º–∞ –ø–∏—Å—å–º–∞
+     * @param template –∏–º—è —à–∞–±–ª–æ–Ω–∞ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
+     * @param attributes –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —à–∞–±–ª–æ–Ω–∞
+     */
     public void sendMessageHtml(String to, String subject, String template, Map<String, Object> attributes) {
-        ExecutorService executor = Executors.newFixedThreadPool(10);
-        executor.execute(() -> {
-            attributes.put("url", "http://" + hostname);
-            Context thymeleafContext = new Context();
-            thymeleafContext.setVariables(attributes);
-            String htmlBody = thymeleafTemplateEngine.process("email/" + template, thymeleafContext);
-            MimeMessage message = mailSender.createMimeMessage();
-            try {
-                MimeMessageHelper helper = new MimeMessageHelper(message, true, "UTF-8");
-                helper.setFrom(username);
-                helper.setTo(to);
-                helper.setSubject(subject);
-                helper.setText(htmlBody, true);
-                mailSender.send(message);
-            } catch (MessagingException e) {
-                throw new RuntimeException(e);
+        executorService.execute(() -> {
+            try {
+                attributes.put("url", "http://" + hostname);
+                Context thymeleafContext = new Context();
+                thymeleafContext.setVariables(attributes);
+                String htmlBody = thymeleafTemplateEngine.process("email/" + template, thymeleafContext);
+                MimeMessage message = mailSender.createMimeMessage();
+                MimeMessageHelper helper = new MimeMessageHelper(message, true, "UTF-8");
+                helper.setFrom(username);
+                helper.setTo(to);
+                helper.setSubject(subject);
+                helper.setText(htmlBody, true);
+                mailSender.send(message);
+                log.debug("Email sent successfully to: {}", to);
+            } catch (MessagingException e) {
+                log.error("Failed to send email to: {}", to, e);
+                throw new RuntimeException("Failed to send email", e);
             }
         });
-        executor.shutdown();
     }
 }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ExecutorService –≤ MailService. –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–Ω–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–¥–∞—á –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ —Ä–∞–±–æ—Ç–æ–π —Å–µ—Ä–≤–∏—Å–∞.

---

### –ó–∞–¥–∞—á–∞ 2.6: –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –†–∞–∑–¥–µ–ª–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å `ControllerUtils` –Ω–∞ —Ç—Ä–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ –∏ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/PaginationUtils.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/ValidationUtils.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/ModelUtils.java` (–Ω–æ–≤—ã–π –∫–ª–∞—Å—Å)
- –£–¥–∞–ª–µ–Ω `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/ControllerUtils.java` (—Å—Ç–∞—Ä—ã–π –∫–ª–∞—Å—Å)
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/AdminController.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/UserController.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/ShawarmaController.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/OrderController.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/RegistrationController.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/AuthenticationController.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–°–æ–∑–¥–∞–Ω PaginationUtils:**
   - –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π:
     - `addPagination(Model model, Page<T> page)` - –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –º–æ–¥–µ–ª—å
     - `addPagination(SearchRequest searchRequest, Model model, Page<T> page)` - –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
     - `computePagination(Page<?> page)` - –≤—ã—á–∏—Å–ª—è–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `MAX_PAGES_WITHOUT_ELLIPSIS = 7` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

2. **–°–æ–∑–¥–∞–Ω ValidationUtils:**
   - –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:
     - `validateInputFields(BindingResult bindingResult, Model model, String attributeKey, Object attributeValue)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –≤ –º–æ–¥–µ–ª—å
     - `validateInputField(Model model, MessageResponse messageResponse, String attributeKey, Object attributeValue)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
     - `getErrors(BindingResult bindingResult)` - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ Map (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

3. **–°–æ–∑–¥–∞–Ω ModelUtils:**
   - –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:
     - `setAlertMessage(Model model, String page, MessageResponse messageResponse)` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –º–æ–¥–µ–ª—å
     - `setAlertFlashMessage(RedirectAttributes redirectAttributes, String page, MessageResponse messageResponse)` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç flash-—Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

4. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:**
   - –ó–∞–º–µ–Ω–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `ControllerUtils` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã
   - –ó–∞–º–µ–Ω–µ–Ω—ã –∏–Ω–∂–µ–∫—Ü–∏–∏ `ControllerUtils` –Ω–∞ –∏–Ω–∂–µ–∫—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤:
     - `controllerUtils.addPagination()` ‚Üí `paginationUtils.addPagination()`
     - `controllerUtils.validateInputFields()` ‚Üí `validationUtils.validateInputFields()`
     - `controllerUtils.validateInputField()` ‚Üí `validationUtils.validateInputField()`
     - `controllerUtils.setAlertMessage()` ‚Üí `modelUtils.setAlertMessage()`
     - `controllerUtils.setAlertFlashMessage()` ‚Üí `modelUtils.setAlertFlashMessage()`

5. **–£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π ControllerUtils:**
   - –ö–ª–∞—Å—Å —É–¥–∞–ª–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ –Ω–æ–≤—ã–º —É—Ç–∏–ª–∏—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle):** –ö–∞–∂–¥—ã–π —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å (–ø–∞–≥–∏–Ω–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—å—é)
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞:** –ö–æ–¥ –ª—É—á—à–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω, –ª–µ–≥—á–µ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞–≥–∏–Ω–∞—Ü–∏—è) –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –¥—Ä—É–≥–∏–µ –æ–±–ª–∞—Å—Ç–∏
- **–ü–æ–≤—ã—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –£—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

**Diff:**

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/PaginationUtils.java
@@ -0,0 +1,67 @@
+package com.gmail.v.c.charkin.gurmanfood.utils;
+
+import com.gmail.v.c.charkin.gurmanfood.dto.request.SearchRequest;
+import org.springframework.data.domain.Page;
+import org.springframework.stereotype.Component;
+import org.springframework.ui.Model;
+
+import java.util.ArrayList;
+import java.util.Arrays;
+import java.util.Collections;
+import java.util.List;
+import java.util.stream.IntStream;
+
+/**
+ * –£—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
+ * –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –º–æ–¥–µ–ª—å.
+ */
+@Component
+public class PaginationUtils {
+
+    private static final int MAX_PAGES_WITHOUT_ELLIPSIS = 7;
+
+    /**
+     * –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –º–æ–¥–µ–ª—å.
+     *
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤
+     * @param page —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
+     * @param <T> —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
+     */
+    public <T> void addPagination(Model model, Page<T> page) {
+        model.addAttribute("pagination", computePagination(page));
+        model.addAttribute("page", page);
+    }
+
+    /**
+     * –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –≤ –º–æ–¥–µ–ª—å.
+     *
+     * @param searchRequest –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤
+     * @param page —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
+     * @param <T> —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
+     */
+    public <T> void addPagination(SearchRequest searchRequest, Model model, Page<T> page) {
+        model.addAttribute("searchRequest", searchRequest);
+        addPagination(model, page);
+    }
+
+    /**
+     * –í—ã—á–∏—Å–ª—è–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.
+     * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–ª–ª–∏–ø—Å–∏—Å (-1) –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü.
+     *
+     * @param page —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
+     * @return –º–∞—Å—Å–∏–≤ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
+     */
+    private int[] computePagination(Page<?> page) {
+        Integer totalPages = page.getTotalPages();
+        
+        if (totalPages <= MAX_PAGES_WITHOUT_ELLIPSIS) {
+            return IntStream.rangeClosed(1, totalPages).toArray();
+        }
+
+        Integer pageNumber = page.getNumber() + 1;
+        Integer[] head = pageNumber > 4 ? new Integer[]{1, -1} : new Integer[]{1, 2, 3};
+        Integer[] tail = pageNumber < (totalPages - 3) 
+                ? new Integer[]{-1, totalPages} 
+                : new Integer[]{totalPages - 2, totalPages - 1, totalPages};
+        Integer[] bodyBefore = (pageNumber > 4 && pageNumber < (totalPages - 1)) 
+                ? new Integer[]{pageNumber - 2, pageNumber - 1} 
+                : new Integer[]{};
+        Integer[] bodyAfter = (pageNumber > 2 && pageNumber < (totalPages - 3)) 
+                ? new Integer[]{pageNumber + 1, pageNumber + 2} 
+                : new Integer[]{};
+
+        List<Integer> list = new ArrayList<>();
+        Collections.addAll(list, head);
+        Collections.addAll(list, bodyBefore);
+        Collections.addAll(list, (pageNumber > 3 && pageNumber < totalPages - 2) 
+                ? new Integer[]{pageNumber} 
+                : new Integer[]{});
+        Collections.addAll(list, bodyAfter);
+        Collections.addAll(list, tail);
+        
+        Integer[] arr = list.toArray(new Integer[0]);
+        return Arrays.stream(arr).mapToInt(Integer::intValue).toArray();
+    }
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/ValidationUtils.java
@@ -0,0 +1,52 @@
+package com.gmail.v.c.charkin.gurmanfood.utils;
+
+import com.gmail.v.c.charkin.gurmanfood.dto.response.MessageResponse;
+import org.springframework.stereotype.Component;
+import org.springframework.ui.Model;
+import org.springframework.validation.BindingResult;
+import org.springframework.validation.FieldError;
+
+import java.util.Map;
+import java.util.stream.Collectors;
+
+/**
+ * –£—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
+ * –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
+ */
+@Component
+public class ValidationUtils {
+
+    /**
+     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –≤ –º–æ–¥–µ–ª—å.
+     *
+     * @param bindingResult —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
+     * @param attributeKey –∫–ª—é—á –∞—Ç—Ä–∏–±—É—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
+     * @param attributeValue –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
+     * @return true, –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, false –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
+     */
+    public boolean validateInputFields(BindingResult bindingResult, Model model, String attributeKey, Object attributeValue) {
+        if (bindingResult.hasErrors()) {
+            model.mergeAttributes(getErrors(bindingResult));
+            model.addAttribute(attributeKey, attributeValue);
+            return true;
+        }
+        return false;
+    }
+
+    /**
+     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ –º–æ–¥–µ–ª—å.
+     *
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
+     * @param messageResponse –æ—Ç–≤–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏
+     * @param attributeKey –∫–ª—é—á –∞—Ç—Ä–∏–±—É—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
+     * @param attributeValue –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
+     * @return true, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ —É—Å–ø–µ—à–Ω–∞, false –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
+     */
+    public boolean validateInputField(Model model, MessageResponse messageResponse, String attributeKey, Object attributeValue) {
+        if (!messageResponse.getResponse().contains("success")) {
+            model.addAttribute(messageResponse.getResponse(), messageResponse.getMessage());
+            model.addAttribute(attributeKey, attributeValue);
+            return true;
+        }
+        return false;
+    }
+
+    /**
+     * –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ Map –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –º–æ–¥–µ–ª—å.
+     *
+     * @param bindingResult —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏
+     * @return Map —Å –æ—à–∏–±–∫–∞–º–∏, –≥–¥–µ –∫–ª—é—á - –∏–º—è –ø–æ–ª—è —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º "Error", –∑–Ω–∞—á–µ–Ω–∏–µ - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
+     */
+    private Map<String, String> getErrors(BindingResult bindingResult) {
+        return bindingResult.getFieldErrors().stream()
+                .collect(Collectors.toMap(
+                        fieldError -> fieldError.getField() + "Error",
+                        FieldError::getDefaultMessage
+                ));
+    }
+}
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/utils/ModelUtils.java
@@ -0,0 +1,33 @@
+package com.gmail.v.c.charkin.gurmanfood.utils;
+
+import com.gmail.v.c.charkin.gurmanfood.dto.response.MessageResponse;
+import org.springframework.stereotype.Component;
+import org.springframework.ui.Model;
+import org.springframework.web.servlet.mvc.support.RedirectAttributes;
+
+/**
+ * –£—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
+ * –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –º–æ–¥–µ–ª—å –∏ RedirectAttributes.
+ */
+@Component
+public class ModelUtils {
+
+    /**
+     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –º–æ–¥–µ–ª—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
+     *
+     * @param model –º–æ–¥–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
+     * @param page –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
+     * @param messageResponse –æ—Ç–≤–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
+     * @return –∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
+     */
+    public String setAlertMessage(Model model, String page, MessageResponse messageResponse) {
+        model.addAttribute("messageType", messageResponse.getResponse());
+        model.addAttribute("message", messageResponse.getMessage());
+        return page;
+    }
+
+    /**
+     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç flash-—Å–æ–æ–±—â–µ–Ω–∏–µ –≤ RedirectAttributes –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç.
+     *
+     * @param redirectAttributes –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
+     * @param page –ø—É—Ç—å –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
+     * @param messageResponse –æ—Ç–≤–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
+     * @return —Å—Ç—Ä–æ–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
+     */
+    public String setAlertFlashMessage(RedirectAttributes redirectAttributes, String page, MessageResponse messageResponse) {
+        redirectAttributes.addFlashAttribute("messageType", messageResponse.getResponse());
+        redirectAttributes.addFlashAttribute("message", messageResponse.getMessage());
+        return "redirect:" + page;
+    }
+}
```

–ü—Ä–∏–º–µ—Ä –∑–∞–º–µ–Ω—ã –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ AdminController):
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/AdminController.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/controller/AdminController.java
@@ -8,7 +8,9 @@
 import com.gmail.v.c.charkin.gurmanfood.dto.response.UserInfoResponse;
 import com.gmail.v.c.charkin.gurmanfood.service.AdminService;
-import com.gmail.v.c.charkin.gurmanfood.utils.ControllerUtils;
+import com.gmail.v.c.charkin.gurmanfood.utils.ModelUtils;
+import com.gmail.v.c.charkin.gurmanfood.utils.PaginationUtils;
+import com.gmail.v.c.charkin.gurmanfood.utils.ValidationUtils;
 import lombok.RequiredArgsConstructor;
@@ -29,7 +31,9 @@
 public class AdminController {
 
     private final AdminService adminService;
-    private final ControllerUtils controllerUtils;
+    private final PaginationUtils paginationUtils;
+    private final ValidationUtils validationUtils;
+    private final ModelUtils modelUtils;
 
     @GetMapping("/shawarmas")
     public String getShawarmas(Pageable pageable, Model model) {
-        controllerUtils.addPagination(model, adminService.getShawarmas(pageable));
+        paginationUtils.addPagination(model, adminService.getShawarmas(pageable));
         return Pages.ADMIN_SHAWARMAS;
     }
@@ -82,7 +86,7 @@
     public String editShawarma(@Valid ShawarmaRequest shawarma, BindingResult bindingResult, Model model,
                               @RequestParam("file") MultipartFile file, RedirectAttributes attributes) throws IOException {
-        if (controllerUtils.validateInputFields(bindingResult, model, "shawarma", shawarma)) {
+        if (validationUtils.validateInputFields(bindingResult, model, "shawarma", shawarma)) {
             return Pages.ADMIN_EDIT_SHAWARMA;
         }
-        return controllerUtils.setAlertFlashMessage(attributes, "/admin/shawarmas", adminService.editShawarma(shawarma, file));
+        return modelUtils.setAlertFlashMessage(attributes, "/admin/shawarmas", adminService.editShawarma(shawarma, file));
     }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å `ControllerUtils` —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ —Ç—Ä–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–∞: `PaginationUtils`, `ValidationUtils` –∏ `ModelUtils`. –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∫–æ–¥–∞, —Å–æ–±–ª—é–¥–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É. –°—Ç–∞—Ä—ã–π `ControllerUtils` —É–¥–∞–ª–µ–Ω.

---

### üìπ –í–∏–¥–µ–æ–æ—Ç—á–µ—Ç –ø–æ –∏—Ç–æ–≥–∞–º –ò—Ç–µ—Ä–∞—Ü–∏–∏ 2

> **üé¨ [–°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ–æ—Ç—á–µ—Ç –ø–æ –ò—Ç–µ—Ä–∞—Ü–∏–∏ 2](https://drive.google.com/file/d/1UnbP5Y9C-6Zfj4TBjVy8S0OiEipj0ron/view?usp=sharing)**

---

---

## –ò–¢–ï–†–ê–¶–ò–Ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ó–∞–¥–∞—á–∞ 3.1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã N+1 –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/repository/UserRepository.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/domain/User.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/domain/Order.java`
- –°–æ–∑–¥–∞–Ω `ShawarmaShop/src/main/resources/db/migration/V5__Add_indexes.sql` (–Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è)

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **UserRepository.java:**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@EntityGraph` —É –º–µ—Ç–æ–¥–∞ `findByEmail(String email)` –Ω–∞ `@EntityGraph(attributePaths = {"roles", "shawarmaList"})`
   - –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –µ–≥–æ —Ä–æ–ª–∏ –∏ –∫–æ—Ä–∑–∏–Ω–∞ (shawarmaList) –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç N+1 –ø—Ä–æ–±–ª–µ–º—É

2. **UserServiceImpl.java:**
   - –ú–µ—Ç–æ–¥ `getAuthenticatedUser()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `userRepository.findByEmail(principal.getUsername())`, –ø—Ä–∏ —ç—Ç–æ–º –±–ª–∞–≥–æ–¥–∞—Ä—è `@EntityGraph` –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ä–æ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É

3. **User.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω —è–≤–Ω—ã–π `fetch = FetchType.LAZY` –¥–ª—è —Å–≤—è–∑–∏ `@ManyToMany` —Å `shawarmaList`
   - –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ —è–≤–Ω–æ–π –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—É—é eager –∑–∞–≥—Ä—É–∑–∫—É

4. **Order.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω —è–≤–Ω—ã–π `fetch = FetchType.LAZY` –¥–ª—è —Å–≤—è–∑–∏ `@ManyToMany` —Å `shawarmas`
   - –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ —è–≤–Ω–æ–π –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—É—é eager –∑–∞–≥—Ä—É–∑–∫—É

5. **V5__Add_indexes.sql (–Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è):**
   - –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è Flyway –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤:
     - `idx_users_email` –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `users(email)` - –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ email
     - `idx_orders_user_id` –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `orders(user_id)` - –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
     - `idx_shawarmas_category` –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `shawarmas(category)` - –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `CREATE INDEX IF NOT EXISTS` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ N+1 –ø—Ä–æ–±–ª–µ–º:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@EntityGraph` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- **–ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** –ò–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –ø–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø–æ–ª—è–º (email, user_id, category)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏:** –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ `FetchType.LAZY` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
- **–£–ª—É—á—à–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/repository/UserRepository.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/repository/UserRepository.java
@@ -14,8 +14,8 @@
     @EntityGraph(attributePaths = "roles")
     Page<User> findAll(Pageable pageable);
 
-    @EntityGraph(attributePaths = "roles")
-    User findByEmail(String email);
+    @EntityGraph(attributePaths = {"roles", "shawarmaList"})
+    User findByEmail(String email);
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java
@@ -37,7 +37,7 @@
     @Override
     public User getAuthenticatedUser() {
         UserPrincipal principal = (UserPrincipal) SecurityContextHolder.getContext().getAuthentication().getPrincipal();
-        return userRepository.findByEmailWithCart(principal.getUsername());
+        return userRepository.findByEmail(principal.getUsername());
     }
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/domain/User.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/domain/User.java
@@ -60,5 +60,5 @@
     private Set<Role> roles;
 
-    @ManyToMany
+    @ManyToMany(fetch = FetchType.LAZY)
     private List<Shawarma> shawarmaList;
 }
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/domain/Order.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/domain/Order.java
@@ -44,5 +44,5 @@
     private String phoneNumber;
 
-    @ManyToMany
+    @ManyToMany(fetch = FetchType.LAZY)
     private List<Shawarma> shawarmas = new ArrayList<>();
```

```diff
--- /dev/null
+++ b/ShawarmaShop/src/main/resources/db/migration/V5__Add_indexes.sql
@@ -0,0 +1,8 @@
+-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
+
+-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ email
+CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
+
+-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
+CREATE INDEX IF NOT EXISTS idx_orders_user_id ON orders(user_id);
+
+-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —à–∞—É—Ä–º—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
+CREATE INDEX IF NOT EXISTS idx_shawarmas_category ON shawarmas(category);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î: –¥–æ–±–∞–≤–ª–µ–Ω `@EntityGraph` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è N+1 –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–æ—Ä–∑–∏–Ω–æ–π, —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω `FetchType.LAZY` –¥–ª—è –≤—Å–µ—Ö `@ManyToMany` —Å–≤—è–∑–µ–π, —Å–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

---

### –ó–∞–¥–∞—á–∞ 3.2: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (SLF4J)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏, –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AuthenticationServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **AdminServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Slf4j` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è logger
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è INFO –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞—É—Ä–º—ã
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–∑–∞–∫–∞–∑—ã, —à–∞—É—Ä–º–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

2. **OrderServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Slf4j`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è INFO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –∑–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

3. **RegistrationServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Slf4j`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è INFO –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è –æ—à–∏–±–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, email —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –æ—à–∏–±–∫–∞ captcha)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∫–æ–¥–æ–≤ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

4. **AuthenticationServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Slf4j`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è INFO –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è –æ—à–∏–±–æ–∫ (email –Ω–µ –Ω–∞–π–¥–µ–Ω, –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–¥ —Å–±—Ä–æ—Å–∞)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è email –ø–æ –∫–æ–¥—É —Å–±—Ä–æ—Å–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

5. **CartServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Slf4j`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è INFO –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫–æ—Ä–∑–∏–Ω–æ–π
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —à–∞—É—Ä–º–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

6. **UserServiceImpl.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Slf4j`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è INFO –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è WARN –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–∞—Ä–æ–ª—è

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –≤–∞–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production-–æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–û—Ç–ª–∞–¥–∫–∞:** –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–æ—â–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø—Ä–æ–±–ª–µ–º –∏ –ø–æ–∏—Å–∫ –ø—Ä–∏—á–∏–Ω –æ—à–∏–±–æ–∫
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –õ–æ–≥–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π
- **–ê—É–¥–∏—Ç:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤) –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG –¥–ª—è –¥–µ—Ç–∞–ª–µ–π, INFO –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π, WARN –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π) –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–º –ª–æ–≥–æ–≤

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
@@ -17,6 +17,7 @@
 import com.gmail.v.c.charkin.gurmanfood.service.FileService;
 import lombok.RequiredArgsConstructor;
+import lombok.extern.slf4j.Slf4j;
 import org.springframework.data.domain.Page;
@@ -28,6 +29,7 @@
 import java.io.IOException;
 
+@Slf4j
 @Service
 @RequiredArgsConstructor
 public class AdminServiceImpl implements AdminService {
@@ -81,7 +83,9 @@
     @Override
     @Transactional
     public MessageResponse editShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) throws IOException {
+        log.info("Editing shawarma with ID: {}", shawarmaRequest.getId());
         MessageResponse response = saveShawarma(shawarmaRequest, file, SuccessMessage.SHAWARMA_EDITED);
+        log.info("Shawarma edited successfully. ID: {}", shawarmaRequest.getId());
         return response;
     }
 
@@ -89,7 +93,9 @@
     @Transactional
     public MessageResponse addShawarma(ShawarmaRequest shawarmaRequest, MultipartFile file) throws IOException {
+        log.info("Adding new shawarma: {}", shawarmaRequest.getShawarmaTitle());
         MessageResponse response = saveShawarma(shawarmaRequest, file, SuccessMessage.SHAWARMA_ADDED);
+        log.info("Shawarma added successfully. Title: {}", shawarmaRequest.getShawarmaTitle());
         return response;
     }
```

–ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (OrderServiceImpl):
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java
@@ -11,6 +11,7 @@
 import com.gmail.v.c.charkin.gurmanfood.service.OrderService;
 import com.gmail.v.c.charkin.gurmanfood.service.UserService;
 import lombok.RequiredArgsConstructor;
+import lombok.extern.slf4j.Slf4j;
 import org.springframework.data.domain.Page;
@@ -23,6 +24,7 @@
 import java.util.Map;
 
+@Slf4j
 @Service
 @RequiredArgsConstructor
 public class OrderServiceImpl implements OrderService {
@@ -51,7 +53,12 @@
     @Override
     @Transactional
     public Long postOrder(User user, OrderRequest orderRequest) {
+        log.info("Creating new order for user: {}", user.getEmail());
         Order order = dtoMapper.mapToOrder(orderRequest);
         order.setUser(user);
         order.getShawarmas().addAll(user.getShawarmaList());
         orderRepository.save(order);
+        log.info("Order created successfully. Order ID: {}, User: {}, Total price: {}", 
+                order.getId(), user.getEmail(), order.getTotalPrice());
         user.getShawarmaList().clear();
+        log.debug("Cart cleared for user: {}", user.getEmail());
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (INFO –¥–ª—è –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, DEBUG –¥–ª—è –¥–µ—Ç–∞–ª–µ–π, WARN –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã –≤ production-–æ–∫—Ä—É–∂–µ–Ω–∏–∏.

---

### –ó–∞–¥–∞—á–∞ 3.3: –£—Å–∏–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ DTO

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–æ –≤—Å–µ DTO –∫–ª–∞—Å—Å—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/UserRequest.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/ShawarmaRequest.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/OrderRequest.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/EditUserRequest.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/ChangePasswordRequest.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/PasswordResetRequest.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **UserRequest.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(max = 255)` –¥–ª—è –ø–æ–ª—è `email` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã email
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(min = 1, max = 255)` –¥–ª—è –ø–æ–ª—è `firstName` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –∏–º–µ–Ω–∏
   - –î–æ–±–∞–≤–ª–µ–Ω `@NotBlank` –¥–ª—è –ø–æ–ª–µ–π `password` –∏ `password2` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

2. **ShawarmaRequest.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω `@Max(value = 1000000)` –¥–ª—è –ø–æ–ª—è `price` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã

3. **OrderRequest.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(min = 1, max = 255)` –¥–ª—è –ø–æ–ª–µ–π `firstName`, `lastName`, `city` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø–æ–ª–µ–π
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(min = 1, max = 500)` –¥–ª—è –ø–æ–ª—è `address` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –∞–¥—Ä–µ—Å–∞ (–±–æ–ª—å—à–µ, —á–µ–º –¥—Ä—É–≥–∏–µ –ø–æ–ª—è)
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(max = 255)` –¥–ª—è –ø–æ–ª—è `email` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã email
   - –î–æ–±–∞–≤–ª–µ–Ω `@Pattern` –¥–ª—è –ø–æ–ª—è `phoneNumber` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(min = 5, max = 20)` –¥–ª—è –ø–æ–ª—è `phoneNumber` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

4. **EditUserRequest.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(min = 1, max = 255)` –¥–ª—è –ø–æ–ª–µ–π `firstName` –∏ `lastName` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(max = 255)` –¥–ª—è –ø–æ–ª—è `city` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ)
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(max = 500)` –¥–ª—è –ø–æ–ª—è `address` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –∞–¥—Ä–µ—Å–∞
   - –î–æ–±–∞–≤–ª–µ–Ω `@Pattern` –¥–ª—è –ø–æ–ª—è `phoneNumber` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ)
   - –î–æ–±–∞–≤–ª–µ–Ω `@Size(max = 20)` –¥–ª—è –ø–æ–ª—è `phoneNumber` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã
   - –î–æ–±–∞–≤–ª–µ–Ω `@Email` –∏ `@Size(max = 255)` –¥–ª—è –ø–æ–ª—è `email` - –≤–∞–ª–∏–¥–∞—Ü–∏—è email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ)

5. **ChangePasswordRequest.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω `@NotBlank` –¥–ª—è –ø–æ–ª–µ–π `password` –∏ `password2` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

6. **PasswordResetRequest.java:**
   - –î–æ–±–∞–≤–ª–µ–Ω `@Email`, `@NotBlank` –∏ `@Size(max = 255)` –¥–ª—è –ø–æ–ª—è `email` - –ø–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è email
   - –î–æ–±–∞–≤–ª–µ–Ω `@NotBlank` –¥–ª—è –ø–æ–ª–µ–π `password` –∏ `password2` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ DTO –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –ø–æ–ª–µ–π –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∞—Ç–∞–∫–∏ —Ç–∏–ø–∞ buffer overflow –∏ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:** –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (email, —Ç–µ–ª–µ—Ñ–æ–Ω) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –∏ —Ä–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- **–ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π:** –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (VARCHAR(255), VARCHAR(500))

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/UserRequest.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/UserRequest.java
@@ -13,11 +13,15 @@
     @Email(message = ErrorMessage.INCORRECT_EMAIL)
     @NotBlank(message = ErrorMessage.EMAIL_CANNOT_BE_EMPTY)
+    @Size(max = 255, message = "Email must not exceed 255 characters")
     private String email;
 
     @NotBlank(message = ErrorMessage.EMPTY_FIRST_NAME)
+    @Size(min = 1, max = 255, message = "First name must be between 1 and 255 characters")
     private String firstName;
 
-    @Size(min = 6, max = 16, message = ErrorMessage.PASSWORD_CHARACTER_LENGTH)
+    @NotBlank(message = "Password cannot be empty")
+    @Size(min = 6, max = 16, message = ErrorMessage.PASSWORD_CHARACTER_LENGTH)
     private String password;
 
-    @Size(min = 6, max = 16, message = ErrorMessage.PASSWORD2_CHARACTER_LENGTH)
+    @NotBlank(message = "Password confirmation cannot be empty")
+    @Size(min = 6, max = 16, message = ErrorMessage.PASSWORD2_CHARACTER_LENGTH)
     private String password2;
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/ShawarmaRequest.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/ShawarmaRequest.java
@@ -6,6 +6,7 @@
 import org.hibernate.validator.constraints.Length;
 
 import javax.validation.constraints.Max;
+import javax.validation.constraints.Min;
 import javax.validation.constraints.NotBlank;
 import javax.validation.constraints.NotNull;
@@ -35,6 +36,7 @@
     @NotNull(message = ErrorMessage.FILL_IN_THE_INPUT_FIELD)
     @Min(value = 1, message = ErrorMessage.FILL_IN_THE_INPUT_FIELD)
+    @Max(value = 1000000, message = "Price must not exceed 1,000,000")
     private Integer price;
```

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/OrderRequest.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/OrderRequest.java
@@ -6,6 +6,8 @@
 
 import javax.validation.constraints.Email;
-import javax.validation.constraints.Min;
 import javax.validation.constraints.NotBlank;
+import javax.validation.constraints.Pattern;
+import javax.validation.constraints.Size;
 import java.time.LocalDateTime;
@@ -17,22 +19,28 @@
     private LocalDateTime date = LocalDateTime.now();
 
     @NotBlank(message = ErrorMessage.FILL_IN_THE_INPUT_FIELD)
+    @Size(min = 1, max = 255, message = "First name must be between 1 and 255 characters")
     private String firstName;
 
     @NotBlank(message = ErrorMessage.FILL_IN_THE_INPUT_FIELD)
+    @Size(min = 1, max = 255, message = "Last name must be between 1 and 255 characters")
     private String lastName;
 
     @NotBlank(message = ErrorMessage.FILL_IN_THE_INPUT_FIELD)
+    @Size(min = 1, max = 255, message = "City must be between 1 and 255 characters")
     private String city;
 
     @NotBlank(message = ErrorMessage.FILL_IN_THE_INPUT_FIELD)
+    @Size(min = 1, max = 500, message = "Address must be between 1 and 500 characters")
     private String address;
 
     @Email(message = ErrorMessage.INCORRECT_EMAIL)
     @NotBlank(message = ErrorMessage.EMAIL_CANNOT_BE_EMPTY)
+    @Size(max = 255, message = "Email must not exceed 255 characters")
     private String email;
 
     @NotBlank(message = ErrorMessage.EMPTY_PHONE_NUMBER)
+    @Pattern(regexp = "^[+]?[(]?[0-9]{1,4}[)]?[-\\s.]?[(]?[0-9]{1,4}[)]?[-\\s.]?[0-9]{1,9}$", 
+            message = "Phone number format is invalid")
+    @Size(min = 5, max = 20, message = "Phone number must be between 5 and 20 characters")
     private String phoneNumber;
```

–ü—Ä–∏–º–µ—Ä –¥–ª—è EditUserRequest:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/EditUserRequest.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/dto/request/EditUserRequest.java
@@ -4,6 +4,9 @@
 import lombok.Data;
 
 import javax.validation.constraints.NotBlank;
+import javax.validation.constraints.Email;
+import javax.validation.constraints.Pattern;
+import javax.validation.constraints.Size;
 
 @Data
 public class EditUserRequest {
 
     @NotBlank(message = ErrorMessage.EMPTY_FIRST_NAME)
+    @Size(min = 1, max = 255, message = "First name must be between 1 and 255 characters")
     private String firstName;
 
     @NotBlank(message = ErrorMessage.EMPTY_LAST_NAME)
+    @Size(min = 1, max = 255, message = "Last name must be between 1 and 255 characters")
     private String lastName;
 
+    @Size(max = 255, message = "City must not exceed 255 characters")
     private String city;
 
+    @Size(max = 500, message = "Address must not exceed 500 characters")
     private String address;
 
+    @Pattern(regexp = "^[+]?[(]?[0-9]{1,4}[)]?[-\\s.]?[(]?[0-9]{1,4}[)]?[-\\s.]?[0-9]{1,9}$", 
+            message = "Phone number format is invalid")
+    @Size(max = 20, message = "Phone number must not exceed 20 characters")
     private String phoneNumber;
 
     private String postIndex;
 
+    @Email(message = ErrorMessage.INCORRECT_EMAIL)
+    @Size(max = 255, message = "Email must not exceed 255 characters")
     private String email;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–∏–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö DTO –∫–ª–∞—Å—Å–æ–≤. –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –ø–æ–ª–µ–π, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, —É–ª—É—á—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

### –ó–∞–¥–∞—á–∞ 3.4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring Security

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –£–ª—É—á—à–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Spring Security, –¥–æ–±–∞–≤–∏–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –∏ –∑–∞—â–∏—Ç—É –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Ç–∞–∫.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/configuration/WebSecurityConfiguration.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
   - –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–¥–æ–±–∞–≤–ª–µ–Ω—ã `/login` –∏ `/error`)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ —è–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤: `.antMatchers("/admin/**").hasAuthority("ADMIN")`
   - –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø—Ä–∞–≤–∏–ª

2. **–£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞:**
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `true` –≤ `defaultSuccessUrl("/user/account", true)` - –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
   - –î–æ–±–∞–≤–ª–µ–Ω `failureUrl("/login?error=true")` - —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ URL –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤—Ö–æ–¥–∞

3. **–£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã—Ö–æ–¥–∞:**
   - –î–æ–±–∞–≤–ª–µ–Ω `logoutRequestMatcher(new AntPathRequestMatcher("/logout", "POST"))` - —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ POST –¥–ª—è –≤—ã—Ö–æ–¥–∞ (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
   - –î–æ–±–∞–≤–ª–µ–Ω `logoutSuccessUrl("/login?logout=true")` - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
   - –î–æ–±–∞–≤–ª–µ–Ω `invalidateHttpSession(true)` - —è–≤–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏
   - –î–æ–±–∞–≤–ª–µ–Ω `deleteCookies("JSESSIONID")` - —É–¥–∞–ª–µ–Ω–∏–µ cookie —Å–µ—Å—Å–∏–∏

4. **–î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏:**
   - –î–æ–±–∞–≤–ª–µ–Ω `sessionManagement()` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
     - `maximumSessions(1)` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     - `maxSessionsPreventsLogin(false)` - —Ä–∞–∑—Ä–µ—à–∏—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é, –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É—è —Å—Ç–∞—Ä—É—é
     - `sessionFixation().migrateSession()` - –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏

5. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ HTTP:**
   - `frameOptions().deny()` - –∑–∞—â–∏—Ç–∞ –æ—Ç clickjacking (–∑–∞–ø—Ä–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ iframe)
   - `contentTypeOptions()` - –∑–∞—â–∏—Ç–∞ –æ—Ç MIME-sniffing –∞—Ç–∞–∫

6. **–î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∫–ª–∞—Å—Å–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤

7. **–î–æ–±–∞–≤–ª–µ–Ω –±–∏–Ω AuthenticationManager:**
   - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `authenticationManagerBean()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AuthenticationManager –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

8. **–£–¥–∞–ª–µ–Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:**
   - –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `UserServiceImpl`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞—â–∏—â–∞—é—Ç –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Ç–∞–∫ (clickjacking, MIME-sniffing, —Ñ–∏–∫—Å–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ—Å—Å–∏–π –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏ –ø–æ–≤—ã—à–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞:** –Ø–≤–Ω—ã–µ URL –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ª—É—á—à–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞:** –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–µ–ª–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–π
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–ª–µ–¥—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º Spring Security –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**Diff:**

```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/configuration/WebSecurityConfiguration.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/configuration/WebSecurityConfiguration.java
@@ -1,50 +1,105 @@
 package com.gmail.v.c.charkin.gurmanfood.configuration;
 
 import com.gmail.v.c.charkin.gurmanfood.security.UserDetailsServiceImpl;
-import com.gmail.v.c.charkin.gurmanfood.service.impl.UserServiceImpl;
 import lombok.RequiredArgsConstructor;
+import org.springframework.context.annotation.Bean;
 import org.springframework.context.annotation.Configuration;
+import org.springframework.security.authentication.AuthenticationManager;
 import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
 import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;
 import org.springframework.security.config.annotation.web.builders.HttpSecurity;
 import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
 import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
 import org.springframework.security.crypto.password.PasswordEncoder;
+import org.springframework.security.web.util.matcher.AntPathRequestMatcher;
 
+/**
+ * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Spring Security.
+ * –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∑–∞—â–∏—Ç—É –æ—Ç –∞—Ç–∞–∫.
+ */
 @Configuration
 @EnableWebSecurity
 @RequiredArgsConstructor
 @EnableGlobalMethodSecurity(prePostEnabled = true)
 public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {
 
-    private final UserServiceImpl userService;
     private final UserDetailsServiceImpl userDetailsService;
     private final PasswordEncoder passwordEncoder;
 
+    /**
+     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
+     *
+     * @param http –æ–±—ä–µ–∫—Ç HttpSecurity –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
+     * @throws Exception –ø—Ä–∏ –æ—à–∏–±–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
+     */
     @Override
     protected void configure(HttpSecurity http) throws Exception {
         http
                 .authorizeRequests()
-                    .antMatchers("/",
+                    // –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
+                    .antMatchers("/",
                             "/registration/**",
                             "/user/contacts",
                             "/img/**",
                             "/static/**",
                             "/auth/**",
                             "/menu/**",
-                            "/shawarma/**"
+                            "/shawarma/**",
+                            "/login",
+                            "/error"
                     ).permitAll()
+                    // –ê–¥–º–∏–Ω—Å–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–æ–ª—å ADMIN
+                    .antMatchers("/admin/**").hasAuthority("ADMIN")
+                    // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
                     .anyRequest().authenticated()
                 .and()
                     .formLogin()
                     .loginPage("/login")
-                    .defaultSuccessUrl("/user/account")
+                    .defaultSuccessUrl("/user/account", true)
+                    .failureUrl("/login?error=true")
                     .permitAll()
                 .and()
                     .logout()
+                    .logoutRequestMatcher(new AntPathRequestMatcher("/logout", "POST"))
+                    .logoutSuccessUrl("/login?logout=true")
+                    .invalidateHttpSession(true)
+                    .deleteCookies("JSESSIONID")
                     .permitAll()
                 .and()
-                    // –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
+                    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
+                    .sessionManagement()
+                    .maximumSessions(1)
+                    .maxSessionsPreventsLogin(false)
+                .and()
+                    .sessionFixation().migrateSession()
+                .and()
+                    // –ó–∞—â–∏—Ç–∞ –æ—Ç clickjacking –∏ –¥—Ä—É–≥–∏—Ö –∞—Ç–∞–∫
+                    .headers()
+                    .frameOptions().deny()
+                    .contentTypeOptions();
     }
 
+    /**
+     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
+     *
+     * @param auth –æ–±—ä–µ–∫—Ç AuthenticationManagerBuilder –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
+     * @throws Exception –ø—Ä–∏ –æ—à–∏–±–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
+     */
     @Override
     protected void configure(AuthenticationManagerBuilder auth) throws Exception {
         auth.userDetailsService(userDetailsService)
                 .passwordEncoder(passwordEncoder);
     }
+
+    /**
+     * –°–æ–∑–¥–∞–µ—Ç –±–∏–Ω AuthenticationManager –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.
+     *
+     * @return AuthenticationManager
+     * @throws Exception –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è
+     */
+    @Bean
+    @Override
+    public AuthenticationManager authenticationManagerBean() throws Exception {
+        return super.authenticationManagerBean();
+    }
 }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spring Security —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏), —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ HTTP –æ—Ç clickjacking –∏ MIME-sniffing –∞—Ç–∞–∫. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π best practices Spring Security.

---

### –ó–∞–¥–∞—á–∞ 3.5: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (JavaDoc)

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –î–æ–±–∞–≤–∏—Ç—å JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–æ –≤—Å–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∫–ª–∞—Å—Å–∞–º-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è –µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏.

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AdminService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/UserService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/OrderService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/CartService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/RegistrationService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AuthenticationService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/ShawarmaService.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/OrderServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/CartServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/RegistrationServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AuthenticationServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/UserServiceImpl.java`
- `ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/ShawarmaServiceImpl.java`

**–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ –≤—Å–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤:**
   - **AdminService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
   - **UserService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - **OrderService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏
   - **CartService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π
   - **RegistrationService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - **AuthenticationService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
   - **ShawarmaService:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∞—É—Ä–º–æ–π

2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ –≤—Å–µ–º –∫–ª–∞—Å—Å–∞–º-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º:**
   - **AdminServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
   - **OrderServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
   - **CartServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
   - **RegistrationServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
   - **AuthenticationServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
   - **UserServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
   - **ShawarmaServiceImpl:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
   - –î–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤: –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - –î–ª—è –º–µ—Ç–æ–¥–æ–≤: –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å `@param`, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å `@throws`
   - –î–ª—è –∫–ª–∞—Å—Å–æ–≤-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞

**–¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **–£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞:** JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Java
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE:** JavaDoc –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ IDE –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –º–µ—Ç–æ–¥—ã, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –æ–ø—ã—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** JavaDoc –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**Diff:**

–ü—Ä–∏–º–µ—Ä –¥–ª—è AdminService:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AdminService.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/AdminService.java
@@ -13,6 +13,10 @@
 
 import java.io.IOException;
 
+/**
+ * –°–µ—Ä–≤–∏—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
+ * –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞—É—Ä–º–æ–π, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏.
+ */
 public interface AdminService {
 
+    /**
+     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —à–∞—É—Ä–º —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Ü–µ–Ω–µ.
+     *
+     * @param pageable –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
+     * @return —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —à–∞—É—Ä–º–æ–π
+     */
     Page<Shawarma> getShawarmas(Pageable pageable);
+
+    /**
+     * –ò—â–µ—Ç —à–∞—É—Ä–º—É –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.
+     *
+     * @param request –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
+     * @param pageable –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
+     * @return —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –Ω–∞–π–¥–µ–Ω–Ω–æ–π —à–∞—É—Ä–º–æ–π
+     */
     Page<Shawarma> searchShawarmas(SearchRequest request, Pageable pageable);
```

–ü—Ä–∏–º–µ—Ä –¥–ª—è –∫–ª–∞—Å—Å–æ–≤-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π:
```diff
--- a/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
+++ b/ShawarmaShop/src/main/java/com/gmail/v/c/charkin/gurmanfood/service/impl/AdminServiceImpl.java
@@ -27,6 +27,9 @@
 
 import java.io.IOException;
 
+/**
+ * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
+ */
 @Slf4j
 @Service
 @RequiredArgsConstructor
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ –≤—Å–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∫–ª–∞—Å—Å–∞–º-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º. –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞, —É–ø—Ä–æ—â–∞–µ—Ç –µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É, –∞ —Ç–∞–∫–∂–µ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Java.

---

### üìπ –í–∏–¥–µ–æ–æ—Ç—á–µ—Ç –ø–æ –∏—Ç–æ–≥–∞–º –ò—Ç–µ—Ä–∞—Ü–∏–∏ 3

> **üé¨ [–°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ–æ—Ç—á–µ—Ç –ø–æ –ò—Ç–µ—Ä–∞—Ü–∏–∏ 3](https://drive.google.com/file/d/1UGqQ2kbLsrfzN7uF1EvE_dzVyJltJ2_1/view?usp=sharing)**

---